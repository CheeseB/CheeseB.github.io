{"componentChunkName":"component---src-templates-post-template-tsx","path":"/mysql/sql-ddl2/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p><small>예전 블로그에 작성된 글을 옮긴 게시글입니다.</small></p>\n<h3 id=\"테이블-삭제-drop-truncate\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%EC%82%AD%EC%A0%9C-drop-truncate\" aria-label=\"테이블 삭제 drop truncate permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테이블 삭제 (DROP, TRUNCATE)</h3>\n<ul>\n<li>DROP: 테이블 삭제\n<ul>\n<li>테이블에 저장된 모든 데이터, 인덱스 및 제약조건이 전부 삭제됨 (FK 제외)</li>\n<li>FK까지 삭제하려면 CASCADE CONSTRAINTS 옵션 사용</li>\n</ul>\n</li>\n<li>FLASHBACK: 삭제된 테이블 복구</li>\n</ul>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> 테이블명<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> dept_new <span class=\"token keyword\">CASCADE</span> CONSTRAINTS<span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">SHOW</span> RECYCLEBIN<span class=\"token punctuation\">;</span> <span class=\"token comment\">-- DB휴지통 보기</span>\r\nFLASHBACK <span class=\"token keyword\">TABLE</span> dept_new <span class=\"token keyword\">TO</span> BEFORE <span class=\"token keyword\">DROP</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>TRUNCATE: 테이블 잘라내기\n<ul>\n<li>테이블의 모든 행들을 삭제함</li>\n<li>테이블이 사용하던 저장공간을 해제 (DELETE는 저장공간을 해제하진 않음)</li>\n<li>ROLLBACK 정보를 발생시키지 않아 DELETE보다 수행속도가 빠르지만 ROLLBACK이 불가함</li>\n</ul>\n</li>\n</ul>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">TRUNCATE</span> <span class=\"token keyword\">TABLE</span> 테이블명<span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"테이블-변경-alter\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%EB%B3%80%EA%B2%BD-alter\" aria-label=\"테이블 변경 alter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테이블 변경 (ALTER)</h3>\n<ul>\n<li>RENAME: 테이블 이름 변경</li>\n</ul>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">RENAME</span> 테이블명 <span class=\"token keyword\">TO</span> 새 테이블명<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>\n<p>ALTER: 테이블 변경</p>\n<ul>\n<li>컬럼: 새 컬럼 추가, 기존 컬럼 수정/삭제/이름변경</li>\n<li>제약조건: 추가/삭제, 활성화/비활성화</li>\n<li>테이블 읽기모드(READ ONLY)</li>\n</ul>\n</li>\n<li>\n<p>컬럼 추가</p>\n</li>\n</ul>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 테이블명\r\n<span class=\"token keyword\">ADD</span> <span class=\"token punctuation\">(</span>컬럼명 데이터타입<span class=\"token punctuation\">,</span>\r\n\t 컬럼명 데이터타입<span class=\"token punctuation\">,</span>\r\n\t <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> emp04\r\n<span class=\"token keyword\">ADD</span> <span class=\"token punctuation\">(</span>email\t\tVARCHAR2<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n\t address\tVARCHAR2<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>컬럼 변경\n<ul>\n<li>숫자, 문자 컬럼의 전체 길이 증가/축소\n<ul>\n<li>축소는 모든 행의 컬럼값이 NULL이거나 행이 없는경우 가능</li>\n</ul>\n</li>\n<li>데이터 타입 변경\n<ul>\n<li>모든 행의 컬럼값이 NULL일 때만 가능</li>\n</ul>\n</li>\n<li>디폴트 값을 변경하면 변경 이후에 입력된 행에만 적용됨</li>\n</ul>\n</li>\n</ul>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 테이블명\r\n<span class=\"token keyword\">MODIFY</span> <span class=\"token punctuation\">(</span>컬럼명 데이터타입<span class=\"token punctuation\">,</span>\r\n\t\t컬럼명 데이터타입<span class=\"token punctuation\">,</span>\r\n\t\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> scott_t\r\n<span class=\"token keyword\">MODIFY</span> <span class=\"token punctuation\">(</span>num\t\tNUMBER<span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n        name\tVARCHAR2<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>컬렴 이름 변경</li>\n</ul>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 테이블명\r\n<span class=\"token keyword\">RENAME</span> <span class=\"token keyword\">COLUMN</span> 컬럼명 <span class=\"token keyword\">TO</span> 새 컬럼명<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> scott_t\r\n<span class=\"token keyword\">RENAME</span> <span class=\"token keyword\">COLUMN</span> address <span class=\"token keyword\">TO</span> addr<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>컬렴 삭제\n<ul>\n<li>CASCADE CONSTRAINTS 옵션 사용하면 해당 컬럼 참조하는 모든 제약조건 삭제됨</li>\n<li>삭제된 컬럼이 포함된 모든 제약조건도 삭제</li>\n</ul>\n</li>\n</ul>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 테이블명\r\n<span class=\"token keyword\">DROP</span> <span class=\"token punctuation\">(</span>컬럼명<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> emp04\r\n<span class=\"token keyword\">DROP</span> <span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> scott_cas\r\n<span class=\"token punctuation\">(</span>pk NUMBER <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\r\n fk NUMBER<span class=\"token punctuation\">,</span>\r\n c1 NUMBER<span class=\"token punctuation\">,</span>\r\n c2 NUMBER<span class=\"token punctuation\">,</span>\r\n <span class=\"token keyword\">CONSTRAINT</span> scott_cas_fk <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">(</span>fk<span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> scott_cas<span class=\"token punctuation\">(</span>pk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n <span class=\"token keyword\">CONSTRAINT</span> scott_cas_ck1 <span class=\"token keyword\">CHECK</span><span class=\"token punctuation\">(</span>pk<span class=\"token operator\">></span><span class=\"token number\">10</span> <span class=\"token operator\">AND</span> c1<span class=\"token operator\">></span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n <span class=\"token keyword\">CONSTRAINT</span> scott_cas_ck2 <span class=\"token keyword\">CHECK</span><span class=\"token punctuation\">(</span>c2 <span class=\"token operator\">></span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> scott_cas <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span> <span class=\"token number\">11</span><span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">,</span> <span class=\"token number\">22</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> scott_cas <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token number\">11</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">,</span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">SELECT</span> constraint_name<span class=\"token punctuation\">,</span> column_name\r\n<span class=\"token keyword\">FROM</span> user_cons_columns\r\n<span class=\"token keyword\">WHERE</span> table_name <span class=\"token operator\">=</span> <span class=\"token string\">'SCOTT_CAS'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">-- SCOTT_CAS_CK1\tPK</span>\r\n<span class=\"token comment\">-- SCOTT_CAS_CK1\tC1</span>\r\n<span class=\"token comment\">-- SCOTT_CAS_CK2\tC2</span>\r\n<span class=\"token comment\">-- SYS_C007157\t\tPK</span>\r\n<span class=\"token comment\">-- SCOTT_CAS_FK\t\tFK</span>\r\n\r\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> scott_cas\r\n<span class=\"token keyword\">DROP</span><span class=\"token punctuation\">(</span>pk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- error! (cannot drop parent key column)</span>\r\n\r\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> scott_cas\r\n<span class=\"token keyword\">DROP</span><span class=\"token punctuation\">(</span>c1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- error! (column is referenced in a multi-column constraint)</span>\r\n\r\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> scott_cas\r\n<span class=\"token keyword\">DROP</span><span class=\"token punctuation\">(</span>pk<span class=\"token punctuation\">)</span> <span class=\"token keyword\">CASCADE</span> CONSTRAINTS<span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">SELECT</span> constraint_name<span class=\"token punctuation\">,</span> column_name\r\n<span class=\"token keyword\">FROM</span> user_cons_columns\r\n<span class=\"token keyword\">WHERE</span> table_name <span class=\"token operator\">=</span> <span class=\"token string\">'SCOTT_CAS'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">-- SCOTT_CAS_CK2\tC2</span></code></pre></div>\n<ul>\n<li>제약조건 추가</li>\n</ul>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 테이블명\r\n<span class=\"token keyword\">ADD</span> <span class=\"token keyword\">CONSTRAINT</span> 제약조건명 제약종류<span class=\"token punctuation\">(</span>컬럼<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> scott_t3\r\n<span class=\"token punctuation\">(</span>num    NUMBER<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n name   VARCHAR2<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">-- PK 추가 --</span>\r\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> scott_t3\r\n<span class=\"token keyword\">ADD</span> <span class=\"token keyword\">CONSTRAINT</span> scott_t3_num_pk <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">-- NN 추가 --</span>\r\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> scott_t3\r\n<span class=\"token keyword\">MODIFY</span> <span class=\"token punctuation\">(</span>name VARCHAR2<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>제약조건 삭제\n<ul>\n<li>CASCADE 옵션은 모든 종속적인 제약조건을 같이 삭제함</li>\n<li>PK, UK는 그냥 써도 되고 나머진 제약조건명을 명시해야 함</li>\n</ul>\n</li>\n</ul>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 테이블명\r\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token operator\">/</span> <span class=\"token keyword\">UNIQUE</span><span class=\"token punctuation\">(</span>컬럼<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span>\r\n\t <span class=\"token keyword\">CONSTRAINT</span> 제약조건명<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> constraint_name<span class=\"token punctuation\">,</span> table_name<span class=\"token punctuation\">,</span> column_name\r\n<span class=\"token keyword\">FROM</span> user_cons_columns\r\n<span class=\"token keyword\">WHERE</span> table_name <span class=\"token operator\">=</span> <span class=\"token string\">'SCOTT_T3'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">--SCOTT_T3_NUM_PK\tSCOTT_T3\tNUM</span>\r\n<span class=\"token comment\">--SYS_C007152\t\tSCOTT_T3\tNAME</span>\r\n\r\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> scott_t3\r\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">CONSTRAINT</span> sys_c007148<span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">SELECT</span> constraint_name<span class=\"token punctuation\">,</span> table_name<span class=\"token punctuation\">,</span> column_name\r\n<span class=\"token keyword\">FROM</span> user_cons_columns\r\n<span class=\"token keyword\">WHERE</span> table_name <span class=\"token operator\">=</span> <span class=\"token string\">'SCOTT_T3'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">--SCOTT_T3_NUM_PK\tSCOTT_T3\tNUM</span>\r\n\r\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> scott_t3\r\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">CASCADE</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">SELECT</span> constraint_name<span class=\"token punctuation\">,</span> table_name<span class=\"token punctuation\">,</span> column_name\r\n<span class=\"token keyword\">FROM</span> user_cons_columns\r\n<span class=\"token keyword\">WHERE</span> table_name <span class=\"token operator\">=</span> <span class=\"token string\">'SCOTT_T3'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">-- (비어있음)</span></code></pre></div>\n<ul>\n<li>제약조건 활성화/비활성화\n<ul>\n<li>CASCADE 옵션 추가 시 해당 제약조건과 관련된 제약조건 모두를 비활성화함</li>\n</ul>\n</li>\n</ul>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 테이블명\r\n<span class=\"token keyword\">DISABLE</span><span class=\"token operator\">/</span><span class=\"token keyword\">ENABLE</span> <span class=\"token keyword\">CONSTRAINT</span> 제약조건명<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> scott_t4\r\n<span class=\"token punctuation\">(</span>num    NUMBER<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">CONSTRAINT</span> scott_t4_num_pk <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\r\n name   <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">STATUS</span>\r\n<span class=\"token keyword\">FROM</span> user_constraints\r\n<span class=\"token keyword\">WHERE</span> table_name <span class=\"token operator\">=</span> <span class=\"token string\">'SCOTT_T4'</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">-- ENABLED</span>\r\n\r\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> scott_t4\r\n<span class=\"token keyword\">DISABLE</span> <span class=\"token keyword\">CONSTRAINT</span> scott_t4_num_pk<span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">STATUS</span>\r\n<span class=\"token keyword\">FROM</span> user_constraints\r\n<span class=\"token keyword\">WHERE</span> table_name <span class=\"token operator\">=</span> <span class=\"token string\">'SCOTT_T4'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- DISABLED</span>\r\n\r\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> scott_t4\r\n<span class=\"token keyword\">ENABLE</span> <span class=\"token keyword\">CONSTRAINT</span> scott_t4_num_pk<span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">STATUS</span>\r\n<span class=\"token keyword\">FROM</span> user_constraints\r\n<span class=\"token keyword\">WHERE</span> table_name <span class=\"token operator\">=</span> <span class=\"token string\">'SCOTT_T4'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- ENABLED</span></code></pre></div>","tableOfContents":"<ul>\n<li><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%EC%82%AD%EC%A0%9C-drop-truncate\">테이블 삭제 (DROP, TRUNCATE)</a></li>\n<li><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%EB%B3%80%EA%B2%BD-alter\">테이블 변경 (ALTER)</a></li>\n</ul>","frontmatter":{"title":"[SQL] Day9 - DDL(2)","summary":"SQL 공부","date":"2021.01.15.","categories":["MySQL"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/webp;base64,UklGRoAAAABXRUJQVlA4IHQAAABwAgCdASoUAAkAAAAAJaQAcDMRhWZlauyGxpAAAP7//74zH3Ve+xCCd98GszB/Tj/iCC0Y2MSrtOrVqfjkmZnssmfzGf/7KOlv13d2hD+q/kdssoK/ffHEQhDODPXwu78YeMXjLLfvfkHHrf9jjPyHNsAAAA=="},"images":{"fallback":{"src":"/static/1fc3bdde82b8ae2d4fcc21fd217faf9f/7713b/mysql.webp","srcSet":"/static/1fc3bdde82b8ae2d4fcc21fd217faf9f/35fd3/mysql.webp 293w,\n/static/1fc3bdde82b8ae2d4fcc21fd217faf9f/cd395/mysql.webp 585w,\n/static/1fc3bdde82b8ae2d4fcc21fd217faf9f/7713b/mysql.webp 1170w","sizes":"(min-width: 1170px) 1170px, 100vw"},"sources":[]},"width":1170,"height":510.99999999999994}},"publicURL":"/static/1fc3bdde82b8ae2d4fcc21fd217faf9f/mysql.webp"}}}}]}},"pageContext":{"slug":"/mysql/sql-ddl2/"}},"staticQueryHashes":["2269898903"],"slicesMap":{}}