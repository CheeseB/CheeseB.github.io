{"componentChunkName":"component---src-templates-post-template-tsx","path":"/study/refactoring-chapter-2-principles-in-refactoring/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2 id=\"리팩터링이란\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81%EC%9D%B4%EB%9E%80\" aria-label=\"리팩터링이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리팩터링이란?</h2>\n<blockquote>\n<p><strong>소프트웨어의 겉보기 동작은 그대로 유지한 채</strong>, 코드를 이해하고 수정하기 쉽도록 내부 구조를 변경하는 기법</p>\n</blockquote>\n<p>동작을 보존하는 작은 단계들을 거쳐 코드를 수정하고, 단계를 순차적으로 연결하여 큰 변화를 만들어내는 일</p>\n<p><small>“누군가 ‘리팩터링하다가 코드가 깨져서 며칠이나 고생했다’ 라고 한다면, 십중팔구 리팩터링한 것이 아니다.”</small></p>\n<h2 id=\"기능-추가-vs-리팩터링\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%8A%A5-%EC%B6%94%EA%B0%80-vs-%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81\" aria-label=\"기능 추가 vs 리팩터링 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기능 추가 VS 리팩터링</h2>\n<ul>\n<li>기능 추가를 할 때는 기존 코드를 절대 건드리지 않고 새 기능을 추가하기만 해야 함</li>\n<li>리팩터링할 때는 기능 추가는 절대 하지 않기로 다짐한 뒤 오로지 코드 재구성에만 전념해야 함</li>\n</ul>\n<h2 id=\"리팩터링하는-이유\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"리팩터링하는 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리팩터링하는 이유</h2>\n<ul>\n<li>소프트웨어 설계가 좋아짐</li>\n<li>소프트웨어를 이해하기 쉬워짐</li>\n<li>버그를 쉽게 찾을 수 있음</li>\n<li>프로그래밍 속도를 높일 수 있음</li>\n</ul>\n<h2 id=\"리팩터링을-해야할-때\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81%EC%9D%84-%ED%95%B4%EC%95%BC%ED%95%A0-%EB%95%8C\" aria-label=\"리팩터링을 해야할 때 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리팩터링을 해야할 때</h2>\n<h4 id=\"3의-법칙\" style=\"position:relative;\"><a href=\"#3%EC%9D%98-%EB%B2%95%EC%B9%99\" aria-label=\"3의 법칙 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3의 법칙</h4>\n<ol>\n<li>처음엔 그냥 함</li>\n<li>비슷한 일을 두번째로 하게되면 일단 계속 진행</li>\n<li>비슷한 일을 세번째로 하게되면 리팩터링함</li>\n</ol>\n<h4 id=\"수시로-리팩터링하고-계획된-리팩터링은-최소화하기\" style=\"position:relative;\"><a href=\"#%EC%88%98%EC%8B%9C%EB%A1%9C-%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81%ED%95%98%EA%B3%A0-%EA%B3%84%ED%9A%8D%EB%90%9C-%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81%EC%9D%80-%EC%B5%9C%EC%86%8C%ED%99%94%ED%95%98%EA%B8%B0\" aria-label=\"수시로 리팩터링하고 계획된 리팩터링은 최소화하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>수시로 리팩터링하고, 계획된 리팩터링은 최소화하기</h4>\n<ul>\n<li>준비를 위한 리팩터링: 기능을 쉽게 추가하게 만들기</li>\n<li>이해를 위한 리팩터링: 코드를 이해하기 쉽게 만들기</li>\n<li>쓰레기 줍기 리팩터링: 비효율적으로 처리하는 코드를 깔끔하게 만들기</li>\n</ul>\n<p>위 3가지 리팩터링은 모두 <strong>기회가 될때 진행</strong>함 (리팩토링 일정을 따로 잡지 않음)</p>\n<p>그동안 리팩터링에 소홀했을 때만 따로 시간을 내서 리팩터링하기</p>\n<p><small>“보기 싫은 코드를 발견하면 리팩터링하자. 그런데 잘 작성된 코드 역시 수많은 리팩터링을 거쳐야 한다.”</small><br>\n<small>“무언가 수정하려 할 때는 먼저 수정하기 쉽게 정돈하고, 그다음 쉽게 수정하자”</small></p>\n<h4 id=\"오래-걸리는-리팩터링\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EB%9E%98-%EA%B1%B8%EB%A6%AC%EB%8A%94-%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81\" aria-label=\"오래 걸리는 리팩터링 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>오래 걸리는 리팩터링</h4>\n<p>대규모 리팩터링에 팀 전체가 매달리지 말고, 주어진 문제를 몇주에 걸쳐 조금씩 해결하기</p>\n<h4 id=\"코드리뷰에-리팩터링-활용하기\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C%EB%A6%AC%EB%B7%B0%EC%97%90-%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"코드리뷰에 리팩터링 활용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>코드리뷰에 리팩터링 활용하기</h4>\n<p>코드 작성자와 나란히 앉아 코드를 훑으며 리팩터링하는 페어 프로그래밍 방식 추천</p>\n<h2 id=\"리팩터링하지-말아야-할-때\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81%ED%95%98%EC%A7%80-%EB%A7%90%EC%95%84%EC%95%BC-%ED%95%A0-%EB%95%8C\" aria-label=\"리팩터링하지 말아야 할 때 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리팩터링하지 말아야 할 때</h2>\n<ul>\n<li>굳이 수정할 필요가 없을 때 (ex. 외부 API 다루듯 호출해서 쓰는 코드)\n<ul>\n<li>내부 동작을 이해해야 할 시점에 리팩터링해야 효과를 볼 수 있기 때문</li>\n</ul>\n</li>\n<li>처음부터 새로 작성하는게 쉬울 때</li>\n</ul>\n<h2 id=\"리팩터링-시-고려할-문제\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81-%EC%8B%9C-%EA%B3%A0%EB%A0%A4%ED%95%A0-%EB%AC%B8%EC%A0%9C\" aria-label=\"리팩터링 시 고려할 문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리팩터링 시 고려할 문제</h2>\n<p><small>* tip! 기술에 능통하지 않은 관리자에게는 리팩터링한다고 말하지 말것</small></p>\n<h4 id=\"새-기능-개발-속도-저하\" style=\"position:relative;\"><a href=\"#%EC%83%88-%EA%B8%B0%EB%8A%A5-%EA%B0%9C%EB%B0%9C-%EC%86%8D%EB%8F%84-%EC%A0%80%ED%95%98\" aria-label=\"새 기능 개발 속도 저하 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>새 기능 개발 속도 저하</h4>\n<ul>\n<li>상황에 맞게 잘 조율해야 함</li>\n<li>리팩터링을 ‘클린코드’ 나 ‘바람직한 엔지니어링 습관’ 같은 도덕적 이유로 정당화하지 말것</li>\n<li>리팩터링의 본질은 코드베이스를 예쁘게 꾸미는게 아닌 오로지 경제적인 이유로 하는것임</li>\n<li>기능 추가 시간을 줄이고, 버그 수정 시간을 줄여줌으로써 개발 기간을 단축하고자 리팩터링을 하는 거란 것을 명심할 것</li>\n</ul>\n<blockquote>\n<p>리팩터링의 궁극적인 목적은 개발 속도를 높여서,  더 적은 노력으로 더 많은 가치를 창출하는 것이다.</p>\n</blockquote>\n<h4 id=\"코드-소유권\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C-%EC%86%8C%EC%9C%A0%EA%B6%8C\" aria-label=\"코드 소유권 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>코드 소유권</h4>\n<ul>\n<li>코드 소유권이 나뉘어 있으면 리팩터링에 방해가 됨</li>\n<li>팀원 누구나 코드를 수정할 수 있도록 코드 소유권을 팀에게 두는것을 추천함.</li>\n</ul>\n<h4 id=\"브랜치\" style=\"position:relative;\"><a href=\"#%EB%B8%8C%EB%9E%9C%EC%B9%98\" aria-label=\"브랜치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>브랜치</h4>\n<ul>\n<li>기능 브랜치 방식의 단점: 브랜치에서 작업할 기간이 길수록 마스터로 통합하기 어려워짐</li>\n<li>통합 주기를 최대한 짧게 잡을 것</li>\n<li><strong>CI (지속적 통합):</strong> 모든 팀원이 최소 하루 한번은 마스터와 통합해야 함\n<ul>\n<li>마스터를 건강하게 유지해야 함</li>\n<li>거대한 기능을 잘게 쪼개야 함</li>\n<li>각 기능을 끌수있는 기능 토글을 적용하여, 미완성된 기능이 시스템을 망치지 않도록 해야함</li>\n</ul>\n</li>\n<li>CI 와 리팩터링은 궁합이 좋음</li>\n</ul>\n<h4 id=\"테스팅\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8C%85\" aria-label=\"테스팅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스팅</h4>\n<ul>\n<li>리팩터링의 첫번째 토대는 <strong>자가 테스트코드를 마련하는 것</strong> (동작을 똑같이 유지해야 하므로)</li>\n<li>테스트 주기가 짧다면 버그를 더 쉽게 찾을 수 있으며, 리팩터링 과정에서 버그가 생길 불안감을 해소함</li>\n</ul>\n<h4 id=\"레거시-코드\" style=\"position:relative;\"><a href=\"#%EB%A0%88%EA%B1%B0%EC%8B%9C-%EC%BD%94%EB%93%9C\" aria-label=\"레거시 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>레거시 코드</h4>\n<ul>\n<li>레거시 시스템을 파악할때 리팩터링이 매우 도움됨</li>\n<li>그전에 테스트를 보강해야 함</li>\n</ul>\n<h4 id=\"데이터베이스\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4\" aria-label=\"데이터베이스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터베이스</h4>\n<ul>\n<li>데이터 마이그레이션 스크립트로, 접근 코드와 DB스키마에 대한 구조적 변경을 처리함</li>\n<li>다른 리팩터링과 마찬가지로 작고 독립된 단계로 쪼개서 할것</li>\n<li>프로덕션 환경에 여러 단계로 나눠서 릴리즈하는 것이 좋음</li>\n</ul>\n<h2 id=\"리팩터링-아키텍처-애그니yagni\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EC%95%A0%EA%B7%B8%EB%8B%88yagni\" aria-label=\"리팩터링 아키텍처 애그니yagni permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리팩터링, 아키텍처, 애그니(YAGNI)</h2>\n<ul>\n<li>리팩터링이 아키텍처에 미친 영향은 요구사항 변화에 자연스럽게 대응하도록 한것</li>\n<li>앞으로 필요할 유연성과 대응 방안을 추측하지 말고, <strong>현재까지 파악한 요구사항만을 해결</strong>하는 소프트웨어를 구축하기</li>\n<li>진행하면서 요구사항을 더 이해하게 되면 아키텍처도 그에 맞게 리팩터링해서 바꾸기</li>\n</ul>\n<h4 id=\"yagni-설계방식\" style=\"position:relative;\"><a href=\"#yagni-%EC%84%A4%EA%B3%84%EB%B0%A9%EC%8B%9D\" aria-label=\"yagni 설계방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>YAGNI 설계방식</h4>\n<ul>\n<li>You aren’t going to need it (너 그거 필요없을걸ㅋ)</li>\n<li><strong>당장 필요한 기능만으로 최대한 간결하게 만들라</strong>는 뜻</li>\n<li>실제로 앞으로 필요할 것 같아서 미리 구현해둔 기능 상당수가 결국 전혀 쓰이지 않거나, 미래 요구사항을 제대로 반영하지 못해 요히려 수정하기 더 어려워지는 경우가 많음</li>\n<li>자가 테스트 코드 + 리팩터링 + 지속적 통합</li>\n</ul>\n<h2 id=\"리팩터링-vs-성능\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81-vs-%EC%84%B1%EB%8A%A5\" aria-label=\"리팩터링 vs 성능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리팩터링 VS 성능</h2>\n<ul>\n<li>리팩터링하면 성능이 느려질 수도 있음</li>\n<li>하지만 리팩터링을 한다면 <strong>이후에 성능을 튜닝하기 더 쉬워짐</strong>\n<ul>\n<li>기능추가가 빨리 끝나 성능에 집중할 시간을 벌수 있음</li>\n<li>리팩터링이 잘 되어있다면 성능을 더 세밀하게 분석할 수 있음</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"성능-개선을-위한-방법\" style=\"position:relative;\"><a href=\"#%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EC%9D%84-%EC%9C%84%ED%95%9C-%EB%B0%A9%EB%B2%95\" aria-label=\"성능 개선을 위한 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>성능 개선을 위한 방법</h4>\n<ul>\n<li>처음엔 성능 신경쓰지 않고 코드를 다루기 쉽게 작성하기</li>\n<li>성능 최적화 단계가 오면 다음 단계를 따르기\n<ol>\n<li>프로파일러로 성능에 큰 영향을 주는 지점을 알아내기<br>(대부분 프로그램은 전체 코드중 극히 일부에서 대부분의 시간을 소비함)</li>\n<li>그 부분을 개선하되, 작은 단계로 나눠서 컴파일과 테스트를 거치고 프로파일러를 다시 실행하기</li>\n<li>개선되지 않았다면 수정 내용을 되돌리기</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"리팩터링-자동화\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81-%EC%9E%90%EB%8F%99%ED%99%94\" aria-label=\"리팩터링 자동화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리팩터링 자동화</h2>\n<p>소스 코드의 텍스트를 직접 조작하지 말고 IDE에서 제공하는 기능들을 잘 활용할것</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81%EC%9D%B4%EB%9E%80\">리팩터링이란?</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B8%B0%EB%8A%A5-%EC%B6%94%EA%B0%80-vs-%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81\">기능 추가 VS 리팩터링</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\">리팩터링하는 이유</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81%EC%9D%84-%ED%95%B4%EC%95%BC%ED%95%A0-%EB%95%8C\">리팩터링을 해야할 때</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#3%EC%9D%98-%EB%B2%95%EC%B9%99\">3의 법칙</a></li>\n<li><a href=\"#%EC%88%98%EC%8B%9C%EB%A1%9C-%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81%ED%95%98%EA%B3%A0-%EA%B3%84%ED%9A%8D%EB%90%9C-%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81%EC%9D%80-%EC%B5%9C%EC%86%8C%ED%99%94%ED%95%98%EA%B8%B0\">수시로 리팩터링하고, 계획된 리팩터링은 최소화하기</a></li>\n<li><a href=\"#%EC%98%A4%EB%9E%98-%EA%B1%B8%EB%A6%AC%EB%8A%94-%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81\">오래 걸리는 리팩터링</a></li>\n<li><a href=\"#%EC%BD%94%EB%93%9C%EB%A6%AC%EB%B7%B0%EC%97%90-%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0\">코드리뷰에 리팩터링 활용하기</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81%ED%95%98%EC%A7%80-%EB%A7%90%EC%95%84%EC%95%BC-%ED%95%A0-%EB%95%8C\">리팩터링하지 말아야 할 때</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81-%EC%8B%9C-%EA%B3%A0%EB%A0%A4%ED%95%A0-%EB%AC%B8%EC%A0%9C\">리팩터링 시 고려할 문제</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EC%83%88-%EA%B8%B0%EB%8A%A5-%EA%B0%9C%EB%B0%9C-%EC%86%8D%EB%8F%84-%EC%A0%80%ED%95%98\">새 기능 개발 속도 저하</a></li>\n<li><a href=\"#%EC%BD%94%EB%93%9C-%EC%86%8C%EC%9C%A0%EA%B6%8C\">코드 소유권</a></li>\n<li><a href=\"#%EB%B8%8C%EB%9E%9C%EC%B9%98\">브랜치</a></li>\n<li><a href=\"#%ED%85%8C%EC%8A%A4%ED%8C%85\">테스팅</a></li>\n<li><a href=\"#%EB%A0%88%EA%B1%B0%EC%8B%9C-%EC%BD%94%EB%93%9C\">레거시 코드</a></li>\n<li><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4\">데이터베이스</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EC%95%A0%EA%B7%B8%EB%8B%88yagni\">리팩터링, 아키텍처, 애그니(YAGNI)</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#yagni-%EC%84%A4%EA%B3%84%EB%B0%A9%EC%8B%9D\">YAGNI 설계방식</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81-vs-%EC%84%B1%EB%8A%A5\">리팩터링 VS 성능</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EC%9D%84-%EC%9C%84%ED%95%9C-%EB%B0%A9%EB%B2%95\">성능 개선을 위한 방법</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81-%EC%9E%90%EB%8F%99%ED%99%94\">리팩터링 자동화</a></p>\n</li>\n</ul>","frontmatter":{"title":"[리팩터링 2판 스터디] 2장. 리팩터링 원칙","summary":"리팩터링을 시작하기 전 알아야 할 것들","date":"2024.05.01.","categories":["Study"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/webp;base64,UklGRtYAAABXRUJQVlA4IMoAAADwBACdASoUAA4AAAAAJZwAowDgAPIr9gD9XfRONsA/EDWANgS/tH44GhV4qsW0dgAA/v//vi4v/sS//faLdpRhf/bWKo3qdC3if/w/f/W7P/3gNXHc/nfYDcbRjfX/Yy0S0/z9Psc8Ff/hirEg/w9nf/r0f8qoLmUpljE//1C/8c0EulrbaJb/dXqxFse4648N+skf7NQRMkkZwp2E8WW78r/7/pk+3lPjBkSjkP7f/y3V/zHA161w8whqSo90P83QDGCuKyM1AAAA"},"images":{"fallback":{"src":"/static/30a8b38ba612548c81dfd19b239f7dc5/362c0/refactoring.webp","srcSet":"/static/30a8b38ba612548c81dfd19b239f7dc5/9d9d0/refactoring.webp 125w,\n/static/30a8b38ba612548c81dfd19b239f7dc5/63c60/refactoring.webp 250w,\n/static/30a8b38ba612548c81dfd19b239f7dc5/362c0/refactoring.webp 500w","sizes":"(min-width: 500px) 500px, 100vw"},"sources":[]},"width":500,"height":360}},"publicURL":"/static/30a8b38ba612548c81dfd19b239f7dc5/refactoring.webp"}}}}]}},"pageContext":{"slug":"/study/refactoring-chapter-2-principles-in-refactoring/"}},"staticQueryHashes":["2269898903"],"slicesMap":{}}