{"componentChunkName":"component---src-templates-post-template-tsx","path":"/testing/react-testing-with-jest-and-rtl/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p><a href=\"https://cheeseb.github.io/testing/test-for-frontend/\" target=\"_blank\" rel=\"nofollow\">이전 포스팅</a>에서 프론트엔드 개발자에게 필요한 테스트의 종류와 개념에 대해 이론적인 측면에서 다뤄 보았다. 이번 시간에는 실제로 리액트에서 Jest 와 React Testing Library 를 활용해서 테스트 코드를 작성하는 방법을 알아보려 한다.</p>\n<h2 id=\"테스팅-라이브러리-설치-및-세팅\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8C%85-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%84%B8%ED%8C%85\" aria-label=\"테스팅 라이브러리 설치 및 세팅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스팅 라이브러리 설치 및 세팅</h2>\n<h3 id=\"jest\" style=\"position:relative;\"><a href=\"#jest\" aria-label=\"jest permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jest</h3>\n<blockquote>\n<p>CRA 환경에선 Jest는 기본적으로 포함되어 있기 때문에 별도로 설치 및 세팅을 할 필요 없다.</p>\n</blockquote>\n<p>CRA를 사용하지 않는 환경에서는 아래 명령어로 Jest를 설치한 후, Babel 설정을 해주어야 한다.</p>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># npm</span>\r\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev jest\r\n\r\n<span class=\"token comment\"># yarn</span>\r\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> <span class=\"token parameter variable\">--dev</span> jest</code></pre></div>\n<p>Jest 는 JavaScript 코드를 실행하지만, 기본적으로 최신 JavaScript 문법이나 JSX 를 이해하지 못한다.<br>\n따라서 Babel을 사용해서 Jest가 이해할 수 있는 문법으로 변환해 주어야 한다.</p>\n<p>먼저 Babel과 필요한 플러그인을 설치한다.</p>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># npm</span>\r\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev babel-jest @babel/core @babel/preset-env @babel/preset-react\r\n\r\n<span class=\"token comment\"># yarn</span>\r\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> <span class=\"token parameter variable\">--dev</span> babel-jest @babel/core @babel/preset-env @babel/preset-react</code></pre></div>\n<p>그 다음, 프로젝트 루트에 ‘.babelrc’ 파일을 생성하고 아래와 같이 작성한다.</p>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"presets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"@babel/preset-env\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"@babel/preset-react\"</span><span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 하면 Jest는 Babel을 사용하여, 테스트 코드를 실행하기 전에 코드를 변환한다.</p>\n<h3 id=\"react-testing-library\" style=\"position:relative;\"><a href=\"#react-testing-library\" aria-label=\"react testing library permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React Testing Library</h3>\n<p>리액트 테스팅 라이브러리는 CRA 환경에 포함되지 않기 때문에, 별도로 설치를 해야한다.</p>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># npm</span>\r\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev @testing-library/react @testing-library/jest-dom\r\n\r\n<span class=\"token comment\"># yarn</span>\r\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> <span class=\"token parameter variable\">--dev</span> @testing-library/react @testing-library/jest-dom</code></pre></div>\n<h2 id=\"기본적인-테스트-코드-작성법\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1%EB%B2%95\" aria-label=\"기본적인 테스트 코드 작성법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기본적인 테스트 코드 작성법</h2>\n<h3 id=\"테스트파일-생성\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1\" aria-label=\"테스트파일 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스트파일 생성</h3>\n<p>Jest는 기본적으로 .test.js 또는 .spec.js 확장자를 가진 파일, 또는 _<em>tests</em>_ 디렉토리 내의 모든 JavaScript 파일을 테스트 파일로 인식한다. 따라서 <strong>컴포넌트와 동일한 경로</strong>에 <strong>컴포넌트명.test.js</strong> 파일을 만들고 테스트 코드를 작성하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Render add button'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// blabla..</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Given score is 0, When click +, Then score is 5'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n\t<span class=\"token comment\">// blabla..</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'취소 버튼이 클릭되면 onCancel 함수가 호출되야 한다.'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n\t<span class=\"token comment\">// blabla..</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>위와 같이 test() 함수 내부에 각 테스트를 작성하면 된다.<br>\n여기서 첫번째 인자로 들어가는 문자열은 각 테스트의 이름이 되며, 테스트 실행 시 아래와 같이 테스트 이름과 성공 여부가 나타난다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">PASS  ./MyButton.test.js\r\n  ✓ Render <span class=\"token function\">add</span> button <span class=\"token punctuation\">(</span>5ms<span class=\"token punctuation\">)</span>\r\n  ✓ Given score is <span class=\"token number\">0</span>, When click +, Then score is <span class=\"token number\">5</span> <span class=\"token punctuation\">(</span>1ms<span class=\"token punctuation\">)</span>\r\n  ✓ 취소 버튼이 클릭되면 onCancel 함수가 호출되야 한다. <span class=\"token punctuation\">(</span>1ms<span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"컴포넌트-렌더링-given\" style=\"position:relative;\"><a href=\"#%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EB%A0%8C%EB%8D%94%EB%A7%81-given\" aria-label=\"컴포넌트 렌더링 given permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컴포넌트 렌더링 (Given)</h3>\n<p>React Testing Library의 <strong>render 함수</strong>를 사용하면 테스트 환경에서 컴포넌트를 렌더링할 수 있다. render 함수는 렌더링된 결과를 반환하며, 이 결과를 통해 DOM 요소를 조회하거나 사용자 이벤트를 시뮬레이션할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@testing-library/react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> MyComponent <span class=\"token keyword\">from</span> <span class=\"token string\">'./MyComponent'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'renders MyComponent'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>MyComponent <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n</code></pre></div>\n<h3 id=\"dom-요소-조회-when\" style=\"position:relative;\"><a href=\"#dom-%EC%9A%94%EC%86%8C-%EC%A1%B0%ED%9A%8C-when\" aria-label=\"dom 요소 조회 when permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DOM 요소 조회 (When)</h3>\n<p>React Testing Library는 <strong>DOM 요소를 조회</strong>할 수 있는 여러 가지 쿼리 함수를 제공하며, 크게 다음과 같이 세가지 형태로 제공된다.</p>\n<table>\n<thead>\n<tr>\n<th>getBy</th>\n<th>queryBy</th>\n<th>findBy</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>해당 요소가 <strong>화면에 존재해야 할 때</strong> 사용하며, 그렇지 않을 경우 테스트는 실패함</td>\n<td>요소가 화면에 <strong>존재하지 않아야 할 때</strong> 사용하며, 요소가 존재하면 테스트는 실패함</td>\n<td><strong>비동기적으로 로딩</strong>되는 요소를 찾을 때 사용</td>\n</tr>\n<tr>\n<td>요소를 찾을 수 없으면 오류를 던짐</td>\n<td>요소를 찾을 수 없으면 null을 반환</td>\n<td>요소를 찾을 수 없으면 Promise를 반환하며, 이 Promise는 reject 됨</td>\n</tr>\n</tbody>\n</table>\n<p>각 형태는 getByText, getByRole 등 여러 종류의 쿼리로 사용될 수 있다.</p>\n<ul>\n<li><a href=\"https://cheeseb.github.io/react/react-testing-library-query-functions/\" target=\"_blank\" rel=\"nofollow\">리액트 쿼리 함수 모음집</a></li>\n<li><a href=\"https://testing-library.com/docs/queries/about/\" target=\"_blank\" rel=\"nofollow\">React Testing Library 공식문서</a></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render<span class=\"token punctuation\">,</span> screen <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@testing-library/react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> MyComponent <span class=\"token keyword\">from</span> <span class=\"token string\">'./MyComponent'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'renders hello message'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>MyComponent <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> helloElement <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"렌더링-결과-검증-then\" style=\"position:relative;\"><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EA%B2%B0%EA%B3%BC-%EA%B2%80%EC%A6%9D-then\" aria-label=\"렌더링 결과 검증 then permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>렌더링 결과 검증 (Then)</h3>\n<p>Jest 에서 제공하는 expect 함수와, 다양한 매쳐(matcher) 함수로 테스트 결과를 검증할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render<span class=\"token punctuation\">,</span> screen <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@testing-library/react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> MyComponent <span class=\"token keyword\">from</span> <span class=\"token string\">'./MyComponent'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'renders hello message'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>MyComponent <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> helloElement <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>helloElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h4 id=\"expect\" style=\"position:relative;\"><a href=\"#expect\" aria-label=\"expect permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>expect</h4>\n<blockquote>\n<p>테스트의 기대값을 지정하는데 사용된다.</p>\n</blockquote>\n<p>Jest에서 제공하는 함수로,<br>\n테스트하려는 값을 인자로 제공하고 이 값에 대해 특정 조건을 검사할 수 있도록 다양한 매쳐 함수를 연결할 수 있게 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>여기서 .toBe() 는 jest 에서 제공하는 매쳐 함수로, expect 함수에 제공된 값이 toBe 함수에 제공된 값과 정확히 같은지 검사한다.</p>\n<h3 id=\"matcher-함수\" style=\"position:relative;\"><a href=\"#matcher-%ED%95%A8%EC%88%98\" aria-label=\"matcher 함수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Matcher 함수</h3>\n<blockquote>\n<p>기대한 값이 실제 반환된 값과 일치하는 지 확인하는 함수이다.</p>\n</blockquote>\n<p>Jest 에서 제공하는 기본 매쳐 함수 뿐 아니라, React Testing Library 의 Jest-dom 에서 DOM 에 특화된 추가적인 매쳐를 제공한다.</p>\n<ul>\n<li><a href=\"https://cheeseb.github.io/react/jest-matchers-dom/\" target=\"_blank\" rel=\"nofollow\">매쳐 함수 모음집</a></li>\n</ul>\n<h2 id=\"테스트-실행\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%8B%A4%ED%96%89\" aria-label=\"테스트 실행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스트 실행</h2>\n<p>다음 명령어를 입력해서 테스트를 실행할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">// <span class=\"token function\">npm</span>\r\n<span class=\"token function\">npm</span> <span class=\"token builtin class-name\">test</span>\r\n\r\n// <span class=\"token function\">yarn</span>\r\n<span class=\"token function\">yarn</span> <span class=\"token builtin class-name\">test</span></code></pre></div>\n<p>이 명령어는 package.json 파일에 정의된 test 스크립트를 실행하며, 일반적으로 CRA 환경에서는 Jest가 테스트 실행기로 설정되어 있다.</p>\n<p>테스트를 실행하면 각 테스트가 통과했는지 실패했는지에 따라 표시되는 메세지가 다르다.</p>\n<h4 id=\"테스트가-성공했을-때\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8%EA%B0%80-%EC%84%B1%EA%B3%B5%ED%96%88%EC%9D%84-%EB%95%8C\" aria-label=\"테스트가 성공했을 때 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스트가 성공했을 때</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">PASS  src/App.test.js\r\n✓ renders learn react <span class=\"token function\">link</span> <span class=\"token punctuation\">(</span>31ms<span class=\"token punctuation\">)</span>\r\n\r\nTest Suites: <span class=\"token number\">1</span> passed, <span class=\"token number\">1</span> total\r\nTests:       <span class=\"token number\">1</span> passed, <span class=\"token number\">1</span> total\r\nSnapshots:   <span class=\"token number\">0</span> total\r\nTime:        <span class=\"token number\">1</span>.357s</code></pre></div>\n<h4 id=\"테스트가-실패했을-때\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8%EA%B0%80-%EC%8B%A4%ED%8C%A8%ED%96%88%EC%9D%84-%EB%95%8C\" aria-label=\"테스트가 실패했을 때 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스트가 실패했을 때</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">FAIL  src/App.test.js\r\n✕ renders learn react <span class=\"token function\">link</span> <span class=\"token punctuation\">(</span>36ms<span class=\"token punctuation\">)</span>\r\n\r\n● renders learn react <span class=\"token function\">link</span>\r\n\r\n  expect<span class=\"token punctuation\">(</span>received<span class=\"token punctuation\">)</span>.toBeInTheDocument<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\r\n  received value must be an HTMLElement or an SVGElement.\r\n  Received has value: null\r\n\r\n    <span class=\"token number\">4</span> <span class=\"token operator\">|</span> test<span class=\"token punctuation\">(</span><span class=\"token string\">'renders learn react link'</span>, <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token number\">5</span> <span class=\"token operator\">|</span>   render<span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>App /<span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token operator\">></span> <span class=\"token number\">6</span> <span class=\"token operator\">|</span>   const linkElement <span class=\"token operator\">=</span> screen.getByText<span class=\"token punctuation\">(</span>/non-existent element/i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token operator\">|</span>                               ^\r\n    <span class=\"token number\">7</span> <span class=\"token operator\">|</span>   expect<span class=\"token punctuation\">(</span>linkElement<span class=\"token punctuation\">)</span>.toBeInTheDocument<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token number\">8</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  at Object.<span class=\"token operator\">&lt;</span>anonymous<span class=\"token operator\">></span> <span class=\"token punctuation\">(</span>src/App.test.js:6:31<span class=\"token punctuation\">)</span>\r\n\r\nTest Suites: <span class=\"token number\">1</span> failed, <span class=\"token number\">1</span> total\r\nTests:       <span class=\"token number\">1</span> failed, <span class=\"token number\">1</span> total\r\nSnapshots:   <span class=\"token number\">0</span> total\r\nTime:        <span class=\"token number\">1</span>.602s</code></pre></div>\n<hr>\n<h2 id=\"참고-자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\" aria-label=\"참고 자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고 자료</h2>\n<ul>\n<li><a href=\"https://jestjs.io/\" target=\"_blank\" rel=\"nofollow\">Jest 공식 웹사이트</a></li>\n<li><a href=\"https://testing-library.com/docs/react-testing-library/intro/\" target=\"_blank\" rel=\"nofollow\">React Testing Library 공식문서</a></li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%ED%85%8C%EC%8A%A4%ED%8C%85-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%84%B8%ED%8C%85\">테스팅 라이브러리 설치 및 세팅</a></p>\n<ul>\n<li><a href=\"#jest\">Jest</a></li>\n<li><a href=\"#react-testing-library\">React Testing Library</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1%EB%B2%95\">기본적인 테스트 코드 작성법</a></p>\n<ul>\n<li>\n<p><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1\">테스트파일 생성</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EB%A0%8C%EB%8D%94%EB%A7%81-given\">컴포넌트 렌더링 (Given)</a></p>\n</li>\n<li>\n<p><a href=\"#dom-%EC%9A%94%EC%86%8C-%EC%A1%B0%ED%9A%8C-when\">DOM 요소 조회 (When)</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EA%B2%B0%EA%B3%BC-%EA%B2%80%EC%A6%9D-then\">렌더링 결과 검증 (Then)</a></p>\n<ul>\n<li><a href=\"#expect\">expect</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#matcher-%ED%95%A8%EC%88%98\">Matcher 함수</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%8B%A4%ED%96%89\">테스트 실행</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8%EA%B0%80-%EC%84%B1%EA%B3%B5%ED%96%88%EC%9D%84-%EB%95%8C\">테스트가 성공했을 때</a></li>\n<li><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8%EA%B0%80-%EC%8B%A4%ED%8C%A8%ED%96%88%EC%9D%84-%EB%95%8C\">테스트가 실패했을 때</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\">참고 자료</a></p>\n</li>\n</ul>","frontmatter":{"title":"Jest 와 React Testing Library로 리액트 테스트 코드 작성하기","summary":"기본적인 테스트 코드 작성법","date":"2023.05.17.","categories":["Testing","React"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/webp;base64,UklGRgwBAABXRUJQVlA4IAABAAAQBgCdASoUAA4AAAAAJZQBGAEGAbxT+0XoZ0ABKgE4AfiBrM3mBTFf91/iH7XmiLot/P8kI/wgdwAA/v//vjfiUYezYu2YAdd/5f//Li3PckXpr/JpuBwuLcs/z//Xv/8R+Ll/qCeuZ61WewgQzopfb/9TRf92X/yr6p/h7NEt7k/Du0IejgHsmTh/L06s6K+4n9Lfj8av+3mPKID/08IID8vT1YhL2lyz/Agd1v/5ZyoU8wr9CdKZj43MUW/xo4ZZaU/5JZCf+HsbJe5Hyd/TXBRcotv/0P3H/NF/1os5nfuq5j7q76dTr6gIx8SVfxlTPC/8iv/f3W8Ws2Gl4AAA"},"images":{"fallback":{"src":"/static/b7ab9a6749a83e0c082b28e2b45bf919/30074/testing.png","srcSet":"/static/b7ab9a6749a83e0c082b28e2b45bf919/7f47b/testing.png 125w,\n/static/b7ab9a6749a83e0c082b28e2b45bf919/fe3b6/testing.png 250w,\n/static/b7ab9a6749a83e0c082b28e2b45bf919/30074/testing.png 500w","sizes":"(min-width: 500px) 500px, 100vw"},"sources":[{"srcSet":"/static/b7ab9a6749a83e0c082b28e2b45bf919/9d9d0/testing.webp 125w,\n/static/b7ab9a6749a83e0c082b28e2b45bf919/63c60/testing.webp 250w,\n/static/b7ab9a6749a83e0c082b28e2b45bf919/362c0/testing.webp 500w","type":"image/webp","sizes":"(min-width: 500px) 500px, 100vw"}]},"width":500,"height":360}},"publicURL":"/static/b7ab9a6749a83e0c082b28e2b45bf919/testing.webp"}}}}]}},"pageContext":{"slug":"/testing/react-testing-with-jest-and-rtl/"}},"staticQueryHashes":["2269898903"],"slicesMap":{}}